{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = [];\nexport const localeOrdersSlice = createSlice({\n  name: 'localeOrders',\n  initialState,\n  reducers: {\n    addLocaleOrder: (state, {\n      payload\n    }) => {\n      const thisRoom = state.find(st => st.room === payload.room);\n      if (thisRoom) {\n        return state.map(st => {\n          if (thisRoom.room === st.room) {\n            const thisRecs = st.recs.find(st => (st === null || st === void 0 ? void 0 : st.id) === (payload === null || payload === void 0 ? void 0 : payload.id));\n            if (thisRecs) {\n              return {\n                ...st,\n                recs: st.recs.map(recs => {\n                  if ((thisRecs === null || thisRecs === void 0 ? void 0 : thisRecs.id) === (recs === null || recs === void 0 ? void 0 : recs.id)) {\n                    return {\n                      ...recs,\n                      count: recs.count + 1\n                    };\n                  }\n                  return recs;\n                })\n              };\n            }\n            return {\n              ...st,\n              recs: [...st.recs, {\n                ...payload,\n                count: 1\n              }]\n            };\n          }\n          return st;\n        });\n      }\n      return [...state, {\n        room: payload.room,\n        recs: [{\n          ...payload,\n          count: 1\n        }]\n      }];\n    },\n    removeLocaleOrder: (state, {\n      payload\n    }) => {\n      const thisRoom = state === null || state === void 0 ? void 0 : state.find(st => (st === null || st === void 0 ? void 0 : st.room) === (payload === null || payload === void 0 ? void 0 : payload.room));\n      if (thisRoom) {\n        return state === null || state === void 0 ? void 0 : state.map(st => {\n          var _st$recs;\n          const orders = st === null || st === void 0 ? void 0 : (_st$recs = st.recs) === null || _st$recs === void 0 ? void 0 : _st$recs.map(rec => {\n            if (rec.id === (payload === null || payload === void 0 ? void 0 : payload.id)) {\n              if (rec.count - 1) {\n                return {\n                  ...rec,\n                  count: rec.count - 1\n                };\n              } else {\n                return false;\n              }\n            }\n            return rec;\n          }).filter(Boolean);\n          if (orders !== null && orders !== void 0 && orders.length) {\n            return {\n              ...st,\n              recs: orders\n            };\n          } else {\n            return null;\n          }\n        }).filter(Boolean);\n      }\n      return state.filter(st => st.room !== payload.room);\n    },\n    setRoomCompleted: (state, {\n      payload\n    }) => state.filter(item => (item === null || item === void 0 ? void 0 : item.room) !== (payload === null || payload === void 0 ? void 0 : payload.room))\n  }\n});\nexport const {\n  addLocaleOrder,\n  removeLocaleOrder,\n  setRoomCompleted\n} = localeOrdersSlice.actions;\nexport default localeOrdersSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","localeOrdersSlice","name","reducers","addLocaleOrder","state","payload","thisRoom","find","st","room","map","thisRecs","recs","id","count","removeLocaleOrder","_st$recs","orders","rec","filter","Boolean","length","setRoomCompleted","item","actions","reducer"],"sources":["/Users/furb-x/Desktop/portfoio/REAL-LOYHALAR/afitsant-page/src/redux/localeOrders.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = [];\n\nexport const localeOrdersSlice = createSlice({\n  name: 'localeOrders',\n  initialState,\n  reducers: {\n    addLocaleOrder: (state, { payload }) => {\n      const thisRoom = state.find((st) => st.room === payload.room);\n      if (thisRoom) {\n        return state.map((st) => {\n          if (thisRoom.room === st.room) {\n            const thisRecs = st.recs.find((st) => st?.id === payload?.id);\n            if (thisRecs) {\n              return {\n                ...st,\n                recs: st.recs.map((recs) => {\n                  if (thisRecs?.id === recs?.id) {\n                    return { ...recs, count: recs.count + 1 };\n                  }\n                  return recs;\n                })\n              };\n            }\n            return {\n              ...st,\n              recs: [...st.recs, { ...payload, count: 1 }]\n            };\n          }\n          return st;\n        });\n      }\n      return [\n        ...state,\n        {\n          room: payload.room,\n          recs: [{ ...payload, count: 1 }]\n        }\n      ];\n    },\n    removeLocaleOrder: (state, { payload }) => {\n      const thisRoom = state?.find((st) => st?.room === payload?.room);\n      if (thisRoom) {\n        return state\n          ?.map((st) => {\n            const orders = st?.recs\n              ?.map((rec) => {\n                if (rec.id === payload?.id) {\n                  if (rec.count - 1) {\n                    return { ...rec, count: rec.count - 1 };\n                  } else {\n                    return false;\n                  }\n                }\n                return rec;\n              })\n              .filter(Boolean);\n\n            if (orders?.length) {\n              return {\n                ...st,\n                recs: orders\n              };\n            } else {\n              return null;\n            }\n          })\n          .filter(Boolean);\n      }\n      return state.filter((st) => st.room !== payload.room);\n    },\n    setRoomCompleted: (state, { payload }) => state.filter((item) => item?.room !== payload?.room)\n  }\n});\n\nexport const { addLocaleOrder, removeLocaleOrder, setRoomCompleted } = localeOrdersSlice.actions;\n\nexport default localeOrdersSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}