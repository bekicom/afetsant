{"ast":null,"code":"/* eslint-disable react/prop-types */import React,{useCallback,useState}from'react';import{useDispatch}from'react-redux';import{addLocaleOrder,removeLocaleOrder}from'../../redux/localeOrders';import{Minus,Plus}from'assets/icon';import{IMG_URL}from'utils/constants';import{formatCurrencyUZS}from'utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Accord=_ref=>{var _room$menus,_room$menus2,_room$menus2$,_room$menus3,_room$menus3$;let{room,id,defaultOpened=false,thisRoomOrders=[]}=_ref;const dispatch=useDispatch();const[open,setOpen]=useState(defaultOpened);const handleAddBasket=useCallback(recep=>{dispatch(addLocaleOrder({...recep,room:id}));},[id,thisRoomOrders]);const handleRemoveBasket=useCallback(recep=>{dispatch(removeLocaleOrder({...recep,room:id}));},[id]);const thisSelectedProd=prods=>{return thisRoomOrders===null||thisRoomOrders===void 0?void 0:thisRoomOrders.find(rec=>(rec===null||rec===void 0?void 0:rec.id)===(prods===null||prods===void 0?void 0:prods.id));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"row-header accord \".concat(open?'opened':''),onClick:()=>setOpen(!open),children:/*#__PURE__*/_jsxs(\"h1\",{className:\"full\",children:[(room===null||room===void 0?void 0:(_room$menus=room.menus)===null||_room$menus===void 0?void 0:_room$menus[0])&&/*#__PURE__*/_jsx(\"img\",{className:\"opener-image\",src:IMG_URL+(room===null||room===void 0?void 0:(_room$menus2=room.menus)===null||_room$menus2===void 0?void 0:(_room$menus2$=_room$menus2[0])===null||_room$menus2$===void 0?void 0:_room$menus2$.image_path),alt:room===null||room===void 0?void 0:(_room$menus3=room.menus)===null||_room$menus3===void 0?void 0:(_room$menus3$=_room$menus3[0])===null||_room$menus3$===void 0?void 0:_room$menus3$.name}),room===null||room===void 0?void 0:room.name,/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"#000000\",viewBox:\"0 0 330 330\",children:/*#__PURE__*/_jsx(\"path\",{id:\"XMLID_224_\",d:\"M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394  l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393  C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z\"})})]})}),open&&/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:room.menus.map((recep,index)=>{var _thisSelectedProd,_thisSelectedProd2;return/*#__PURE__*/_jsxs(\"div\",{className:\"room rec\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"product-image\",src:IMG_URL+(recep===null||recep===void 0?void 0:recep.image_path),alt:recep.name}),/*#__PURE__*/_jsx(\"span\",{className:\"title-prod\",children:recep===null||recep===void 0?void 0:recep.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"price-prod\",children:[\"Narxi: \",formatCurrencyUZS(recep===null||recep===void 0?void 0:recep.sell_price)]}),(_thisSelectedProd=thisSelectedProd(recep))!==null&&_thisSelectedProd!==void 0&&_thisSelectedProd.count?/*#__PURE__*/_jsxs(\"button\",{className:\"row-bottom\",children:[/*#__PURE__*/_jsx(Minus,{onClick:()=>handleRemoveBasket(recep)}),(_thisSelectedProd2=thisSelectedProd(recep))===null||_thisSelectedProd2===void 0?void 0:_thisSelectedProd2.count,/*#__PURE__*/_jsx(Plus,{onClick:()=>handleAddBasket(recep)})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleAddBasket(recep);},children:\"Qo'shish\"})]},index);})})]});};export default Accord;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}