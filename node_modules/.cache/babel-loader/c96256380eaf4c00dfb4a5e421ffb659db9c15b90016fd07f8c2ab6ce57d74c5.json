{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';const initialState=[];export const localeOrdersSlice=createSlice({name:'localeOrders',initialState,reducers:{addLocaleOrder:(state,_ref)=>{let{payload}=_ref;const thisRoom=state.find(st=>st.room===payload.room);if(thisRoom){return state.map(st=>{if(thisRoom.room===st.room){const thisRecs=st.recs.find(st=>(st===null||st===void 0?void 0:st.id)===(payload===null||payload===void 0?void 0:payload.id));if(thisRecs){return{...st,recs:st.recs.map(recs=>{if((thisRecs===null||thisRecs===void 0?void 0:thisRecs.id)===(recs===null||recs===void 0?void 0:recs.id)){return{...recs,count:recs.count+1};}return recs;})};}return{...st,recs:[...st.recs,{...payload,count:1}]};}return st;});}return[...state,{room:payload.room,recs:[{...payload,count:1}]}];},removeLocaleOrder:(state,_ref2)=>{let{payload}=_ref2;const thisRoom=state===null||state===void 0?void 0:state.find(st=>(st===null||st===void 0?void 0:st.room)===(payload===null||payload===void 0?void 0:payload.room));if(thisRoom){return state===null||state===void 0?void 0:state.map(st=>{var _st$recs;const orders=st===null||st===void 0?void 0:(_st$recs=st.recs)===null||_st$recs===void 0?void 0:_st$recs.map(rec=>{if(rec.id===(payload===null||payload===void 0?void 0:payload.id)){if(rec.count-1){return{...rec,count:rec.count-1};}else{return false;}}return rec;}).filter(Boolean);if(orders!==null&&orders!==void 0&&orders.length){return{...st,recs:orders};}else{return null;}}).filter(Boolean);}return state.filter(st=>st.room!==payload.room);},setRoomCompleted:(state,_ref3)=>{let{payload}=_ref3;return state.filter(item=>(item===null||item===void 0?void 0:item.room)!==(payload===null||payload===void 0?void 0:payload.room));}}});export const{addLocaleOrder,removeLocaleOrder,setRoomCompleted}=localeOrdersSlice.actions;export default localeOrdersSlice.reducer;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}