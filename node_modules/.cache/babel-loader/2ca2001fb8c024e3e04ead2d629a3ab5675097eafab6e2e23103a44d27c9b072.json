{"ast":null,"code":"import React,{useState}from'react';import{NavLink,useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{post}from'services/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const[error,setError]=useState(false);const[loading,setLoading]=useState(false);const onSubmit=form=>{form.preventDefault();const{full_name='',phone_number='',password=''}=Object.fromEntries(new FormData(form.target));if(!full_name||!phone_number||!password){return setError(true);}setError(false);setLoading(true);post('auth/register',Object.fromEntries(new FormData(form.target))).then(()=>{toast.success('Muvaffaqiyatli ro`yxatdan o`tdingiz');navigate('/login');}).catch(err=>{var _err$response,_err$response$data;console.log(err);setLoading(false);toast.error(JSON.stringify((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.errors)||\"Xatolik yuz berdi\"));});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"shape\"}),/*#__PURE__*/_jsx(\"div\",{className:\"shape\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,className:error?'error':'',children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Ro'yxatdan o'tish\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"full_name\",children:\"To'liq ism\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"ism familiya\",id:\"full_name\",name:\"full_name\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone_number\",children:\"Telefon raqami\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",placeholder:\"998xxxyyzz\",id:\"phone_number\",name:\"phone_number\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Parol\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Parol\",id:\"password\",name:\"password\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"error\",children:[\" \",error?\"Ma'lumotlarni to'liq kiriting !\":null]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"lds-dual-ring\"}):\"Ro'yxatdan o'tish\"}),/*#__PURE__*/_jsx(NavLink,{to:'/login',children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",children:'Kirish'})})]})]});};export default Register;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}