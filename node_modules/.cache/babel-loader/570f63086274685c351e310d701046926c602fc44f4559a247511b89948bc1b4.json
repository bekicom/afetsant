{"ast":null,"code":"var _jsxFileName = \"/Users/furb-x/Desktop/portfoio/REAL-LOYHALAR/afitsant-page/src/components/order-list/index.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport { Minus } from 'assets/icon';\nimport { formatCurrencyUZS } from 'utils';\nimport { postRequest } from 'services/api';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderList = ({\n  product,\n  loading,\n  setLoading,\n  room,\n  token,\n  onUpdated\n}) => {\n  _s();\n  var _formatCurrencyUZS;\n  const [returnedProduct, setReturnedProduct] = useState(0);\n  const handleRemoveProduct = () => {\n    if (!(product !== null && product !== void 0 && product.id)) {\n      return toast.error('Maxsulot topilmadi');\n    }\n    if ((product === null || product === void 0 ? void 0 : product.quantity) > 1 && !returnedProduct) {\n      return toast.info(`Qaytarilgan maxsulotlar sonini tanlang!`);\n    }\n    const formData = {\n      room_id: room,\n      products_id: [product === null || product === void 0 ? void 0 : product.id],\n      products_quantity: [(product === null || product === void 0 ? void 0 : product.quantity) === 1 ? 1 : returnedProduct],\n      action: 'minus'\n    };\n    setLoading(true);\n    postRequest('room/merge', formData, token).then(({\n      data\n    }) => {\n      toast.success(data === null || data === void 0 ? void 0 : data.result);\n      setLoading(false);\n      setReturnedProduct(0);\n      onUpdated();\n    }).catch(err => {\n      setLoading(false);\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: loading,\n      className: \"remove\",\n      onClick: handleRemoveProduct,\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lds-dual-ring\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(Minus, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 56\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\" \", product === null || product === void 0 ? void 0 : product.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [product === null || product === void 0 ? void 0 : product.quantity, \"X\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Narxi \", `${(_formatCurrencyUZS = formatCurrencyUZS(product === null || product === void 0 ? void 0 : product.total)) === null || _formatCurrencyUZS === void 0 ? void 0 : _formatCurrencyUZS.replace('UZS', '')} UZS`]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), (product === null || product === void 0 ? void 0 : product.quantity) > 1 && /*#__PURE__*/_jsxDEV(\"strong\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Qaytarilgan maxsulotlar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"returned-product\",\n        onChange: e => setReturnedProduct(e.target.value),\n        children: Array.from({\n          length: product === null || product === void 0 ? void 0 : product.quantity\n        }).map((_, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: index,\n          children: index\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)]\n  }, product === null || product === void 0 ? void 0 : product.name, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderList, \"UGvM5Av77ytp22SKAhMfCXF2kC0=\");\n_c = OrderList;\nexport default OrderList;\nvar _c;\n$RefreshReg$(_c, \"OrderList\");","map":{"version":3,"names":["React","useState","Minus","formatCurrencyUZS","postRequest","toast","jsxDEV","_jsxDEV","OrderList","product","loading","setLoading","room","token","onUpdated","_s","_formatCurrencyUZS","returnedProduct","setReturnedProduct","handleRemoveProduct","id","error","quantity","info","formData","room_id","products_id","products_quantity","action","then","data","success","result","catch","err","console","log","children","disabled","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","name","total","replace","onChange","e","target","value","Array","from","length","map","_","index","_c","$RefreshReg$"],"sources":["/Users/furb-x/Desktop/portfoio/REAL-LOYHALAR/afitsant-page/src/components/order-list/index.js"],"sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport { Minus } from 'assets/icon';\nimport { formatCurrencyUZS } from 'utils';\nimport { postRequest } from 'services/api';\nimport { toast } from 'react-toastify';\n\nconst OrderList = ({ product, loading, setLoading, room, token, onUpdated }) => {\n  const [returnedProduct, setReturnedProduct] = useState(0);\n  const handleRemoveProduct = () => {\n    if (!product?.id) {\n      return toast.error('Maxsulot topilmadi');\n    }\n    if (product?.quantity > 1 && !returnedProduct) {\n      return toast.info(`Qaytarilgan maxsulotlar sonini tanlang!`);\n    }\n\n    const formData = {\n      room_id: room,\n      products_id: [product?.id],\n      products_quantity: [product?.quantity === 1 ? 1 : returnedProduct],\n      action: 'minus'\n    };\n    setLoading(true);\n    postRequest('room/merge', formData, token)\n      .then(({ data }) => {\n        toast.success(data?.result);\n        setLoading(false);\n        setReturnedProduct(0);\n        onUpdated();\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n      });\n  };\n  return (\n    <li key={product?.name}>\n      <button disabled={loading} className=\"remove\" onClick={handleRemoveProduct}>\n        {loading ? <div className=\"lds-dual-ring\" /> : <Minus />}\n      </button>\n      <strong className=\"row\">\n        <span> {product?.name}</span> <span>{product?.quantity}X</span>\n      </strong>\n      <p>Narxi {`${formatCurrencyUZS(product?.total)?.replace('UZS', '')} UZS`}</p>\n      {product?.quantity > 1 && (\n        <strong className=\"row\">\n          <span>Qaytarilgan maxsulotlar</span>\n          <select className=\"returned-product\" onChange={(e) => setReturnedProduct(e.target.value)}>\n            {Array.from({ length: product?.quantity }).map((_, index) => (\n              <option key={index} value={index}>\n                {index}\n              </option>\n            ))}\n          </select>\n        </strong>\n      )}\n    </li>\n  );\n};\n\nexport default OrderList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}